<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Button</title>
    <script type="text/javascript" src="/root.js"></script>
    <script type="text/javascript" src="/root.model.js"></script>
    <script type="text/javascript" src="/root.animation.js"></script>
    <script type="text/javascript" src="/root.input.js"></script>
    <script type="text/javascript" src="/root.button.js"></script>
    <script type="text/javascript" src="/root.popup.js"></script>
    <script type="text/javascript" src="/root.editor.js"></script>
    <link href="/css/root/main.css" rel="stylesheet" type="text/css" />
    <link href="/css/root/iconfont.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
    .input-f18 { font-size: 18px; }
    .input-f24 { font-size: 24px; }
    </style>
</head>
<body>

<model name="students" data='[{ "name": "Tom", "age": 18 }, { "name": "Jerry", "age": 19 }, { "name": "Ted", "age": 17}]'>
    <set $="#Youngest">The youngest students is: @:[0][name]. He is only @:[0].age!!</set>
    <set $="#Oldest">The oldest students is: @:[-1].name!. He is only @:[-1][age]!</set>
    <set $="#Avg" value="~{ @students|age|!.avg().round(2) }"></set>
</model>
<span id="Youngest"></span>
<span id="Oldest"></span>
<input id="Avg" type="text" />
<template var="student" as="list" data="@students">
    <div>@student.name: @[age]</div>
</template>

<div html+>@students[0].name: @students|age|[0]</div>
<span data>$(#CC):$(#BB)</span>
<input value+="$(#CC):$(#BB)" />
<hr/>

&#64; <input id="CC" type="checkbox" value+="hello" value="world" /> 

<span editable show-buttons="yes" edit-on="click" underline="dashed">HELLO WORLD</span>

<div>
    <select id="BB" multiple>
        <option selected>A1</option>
        <option>A2</option>
        <option>A3</option>
        <option>A4</option>
    </select>
</div>

<form>
    <input id="I" type="text" />
    <button id="B" type="switch" onclick="return false;" callout="right" value="no" invalid-text="禁止点击。" onclick-disabled="alert(this.value)" onclick-enabled="alert(this.text)">ABC</button>
    <button id="P">Prompt</button>
</form>
 <script type="text/javascript">
Object.defineProperty(HTMLDivElement.prototype, 'color', {
    get() {
        return this.getAttribute('color');
    },
    set(color) {
        this.setAttribute('color', color);
    }
});

Object.defineProperty(HTMLInputElement.prototype, 'value', {
    get() {
        return this.getAttribute('value');
    },
    set(value) {
        this.setAttribute('value', value);
    }
});

$s('#P').onclick = function() {

    $root.prompt('HELLO WORLD');
    let a = window.prompt('Please input something.');
    console.log(a);
    return false;
}
    //input.initializeInputable();

    // let getter = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value').get; //HTMLInputElement.prototype.__lookupGetter__('value');
    // let setter = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value').set; //HTMLInputElement.prototype.__lookupSetter__('value');
    // Object.defineProperties(HTMLInputElement.prototype, {
    //     'value': {
    //         get() {
    //             return getter.call(this).toLowerCase();
    //         },
    //         set(value) {
    //             setter.call(this, String(value).toUpperCase());
    //         }
    //     },
    //     required: {
    //         get() {
    //             return false;
    //         }
    //     }
    // });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TABLE</title>
    <script type="text/javascript" src="/root.js"></script>
    <script type="text/javascript" src="/root.animation.js"></script>
    <script type="text/javascript" src="/root.table.js"></script>
    <link href="/css/root/main.css" rel="stylesheet" type="text/css" />
    <link href="/css/root/iconfont.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
    .input-f18 { font-size: 18px; }
    .input-f24 { font-size: 24px; }
    </style>
</head>
<body>
<div id="D" style="display: none;">
    HELLO WORLD
</div>

<table data="" primary-key="hello,world">
    <colgroup>
        <col class="red">
    </colgroup>
</table>
<script type="text/javascript">
LogFormat = function(log) {
    let str = [];
    let dt = [];
    let address = [];
    return log.replace(/<\/[^>]+>/g, '')
            .replace(/<\d+\.\d+\.\d+\.\d+(\.\d+\.\d+)?:\d+>/g, $1 => {
                address.push($1);
                return  '~address#' + (address.length - 1) + '#';
            })
            .replace(/</g, '&lt;').replace(/>/g, '&gt;')
            .replace(/"[^"]*"/g, $1 => {
                str.push($1);
                return '~str#' + (str.length - 1) + '#';
            })
            .replace(/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(\.\d{3})?/g, $1 => {
                dt.push($1);
                return '~date#' + (dt.length - 1) + '#';
            })
            .replace(/\\r\\n|\\n|\\r/g, '<br/>')
            .replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')    
            .replace(/([^\da-z#])(\d+)([^\da-z#])/g, ($1, $2, $3, $4) => {
                if ($2 != '#' && $4 != '#') {
                    return $2 + '<span class="NUMBER">' + $3 +'</span>' + $4;
                }
                else {
                    return $1;
                }
            })    
            .replace(/-\d+|-?\d+\.\d+/, $1 => '<span class="NUMBER">' + $1 +'</span>')
            .replace(/~str#(\d+)#/g, ($1, $2) => '<span class="STRING">' + str[$2.toInt()] + '</span>')
            .replace(/~date#(\d+)#/g, ($1, $2) => '<span class="DATETIME">' + dt[$2.toInt()] + '</span>')
            .replace(/~address#(\d+)#/g, ($1, $2) => '<span class="ADDRESS">' + address[$2.toInt()] + '</span>');
}

console.log(LogFormat('  <192.168.3.67:7700> Keeper beat!'));
</script>
</body>
</html>